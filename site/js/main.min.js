var nww_main=new function(){function z(){var a=window.location.pathname,b=(new Date).getTime();a.startsWith("/info")?(H<b-3E3&&(ui_clear_info(),get_info(""),get_supply(),H=b),document.title="Keva.One - Kevacoin Info",isection_toggle("explorer_section",x),section_toggle("explorer_info",!1)):a.startsWith("/stats")?(document.title="Keva.One - Kevacoin Stats",chart_section_toggle("tops_balance"),isection_toggle("explorer_section",x),section_toggle("explorer_stats",!1)):a.startsWith("/explorer")?(document.title=
"Keva.One - Kevacoin Explorer",isection_toggle("explorer_section",x),section_toggle("explorer_browser",!1),"/explorer/recent-blocks"===a?(document.title="Keva.One - Kevacoin Recent Blocks",ui_clear_recent_blocks(),get_recent_blocks(""),exp_section_toggle("explorer_recent_blocks",!1)):"/explorer/recent-transactions"===a?(document.title="Keva.One - Kevacoin Recent Transactions",ui_clear_recent_transactions(),get_recent_transactions(""),exp_section_toggle("explorer_recent_transactions",!1)):"/explorer/mempool"===
a?(document.title="Keva.One - Kevacoin Mempool",ui_clear_mempool(),get_raw_mempool(""),exp_section_toggle("explorer_mempool",!1)):a.startsWith("/explorer/block/")?(a=a.split("/"),document.title="Keva.One - Kevacoin Block "+a[a.length-1],ui_clear_block(),get_block(a[a.length-1]),exp_section_toggle("explorer_block",!1)):a.startsWith("/explorer/transaction/")?(a=a.split("/"),document.title="Keva.One - Kevacoin Transaction "+a[a.length-1],ui_clear_transaction(),get_transaction(a[a.length-1]),exp_section_toggle("explorer_transaction",
!1)):a.startsWith("/explorer/address/")?(a=a.split("/"),document.title="Keva.One - Kevacoin Address "+a[a.length-1],ui_clear_address(),get_address(a[a.length-1]),isection_toggle("address_section",x)):a.startsWith("/explorer/mempool/entry")?(a=a.split("/"),document.title="Keva.One - Kevacoin Mempool Entry "+a[a.length-1],ui_clear_mempool_entry(),get_mempool_entry(a[a.length-1]),exp_section_toggle("explorer_mempool_entry",!1)):a.startsWith("/explorer/search")?(document.title="Keva.One - Kevacoin Search",
ui_clear_search(),isection_toggle("explorer_section",x)):(ui_clear_recent_blocks(),get_recent_blocks(""))):a.startsWith("/market")?(document.title="Keva.One - Kevacoin Auctions",I<b-3E4&&(ui_clear_market_view(),get_nft_auctions(""),I=b),isection_toggle("market_section",x)):a.startsWith("/search")?(document.title="Keva.One - Search",isection_toggle("search_section",x)):a.startsWith("/error")?(document.title="Keva.One - Error",isection_toggle("error_section",x)):a.startsWith("/about")?(document.title=
"Keva.One - About",isection_toggle("about_section",x)):"/"===a?(document.title="Keva.One",isection_toggle("main_section",x)):(a=a.split("/"),a[a.length-1].length>parseInt(a[a.length-1][0],10)+1?(document.title="Keva.One - Kevacoin Shortcode "+a[a.length-1],ui_clear_namespace_view(),get_shortcode(a[a.length-1]),isection_toggle("namespace_section",x)):a[a.length-1].startsWith("N")&34===a[a.length-1].length?(document.title="Keva.One - Kevacoin Namespace "+a[a.length-1],ui_clear_namespace_view(),get_namespace(a[a.length-
1]),isection_toggle("namespace_section",x)):(document.title="Keva.One - Error",gei("error_msg").innerText="Nothing there!",section_toggle("error_section",!1)))}var t=new Worker("/js/worker.min.js"),H=0,I=0,A="all",B=void 0,x="address_section explorer_info explorer_stats explorer_browser market_section explorer_section namespace_section main_section search_section error_section about_section".split(" ");myFunction=function(a){a=gei(a);-1==a.className.indexOf("w3-show")?(a.className+=" w3-show",a.previousElementSibling.className+=
" w3-theme-d1"):(a.className=a.className.replace("w3-show",""),a.previousElementSibling.className=a.previousElementSibling.className.replace(" w3-theme-d1",""))};isection_toggle=function(a,b){for(var c=0;c<b.length;c++){var d=gei(b[c]);b[c]==a?-1==d.className.indexOf("w3-show")&&(d.className+=" w3-show"):-1!=d.className.indexOf("w3-show")&&(d.className=d.className.replace(" w3-show",""))}};section_toggle=function(a,b){b=void 0===b?!0:b;close_nav_small();isection_toggle(a,"namespace_section address_section explorer_info explorer_stats explorer_browser market_section main_section search_section error_section about_section".split(" "));
if(b){if("explorer_info"===a)window.history.pushState({},"","/info");else if("explorer_stats"===a)window.history.pushState({},"","/stats");else if("explorer_browser"===a){var c=window.location.pathname;!c.startsWith("/explorer/block/")&!c.startsWith("/explorer/recent-blocks")&!c.startsWith("/explorer/recent-transactions")&!c.startsWith("/explorer/transaction/")&!c.startsWith("/explorer/address/")&!c.startsWith("/explorer/mempool/entry/")&&window.history.replaceState(null,document.title,"/explorer")}else"market_section"===
a?window.history.pushState({},"","/market"):"main_section"===a?window.history.pushState({},"","/"):"about_section"===a?window.history.pushState({},"","/about"):"search_section"===a?window.history.pushState({},"","/search"):"error_section"===a&&window.history.pushState({},"","/error");z()}else"explorer_info"===a?window.history.replaceState(null,document.title,"/info"):"explorer_stats"===a?window.history.replaceState(null,document.title,"/stats"):"explorer_browser"===a?(c=window.location.pathname,!c.startsWith("/explorer/block/")&
!c.startsWith("/explorer/recent-blocks")&!c.startsWith("/explorer/recent-transactions")&!c.startsWith("/explorer/transaction/")&!c.startsWith("/explorer/address/")&!c.startsWith("/explorer/mempool/entry/")&&window.history.replaceState(null,document.title,"/explorer")):"market_section"===a?window.history.replaceState(null,document.title,"/market"):"main_section"===a?window.history.replaceState(null,document.title,"/"):"about_section"===a?window.history.replaceState(null,document.title,"/about"):"search_section"===
a?window.history.replaceState(null,document.title,"/search"):"error_section"===a&&window.history.replaceState(null,document.title,"/error")};exp_section_toggle=function(a,b){b=void 0===b?!0:b;isection_toggle(a,"explorer_recent_blocks explorer_recent_transactions explorer_mempool explorer_block explorer_transaction explorer_mempool_entry".split(" "));b?("explorer_recent_blocks"===a?window.history.pushState({},"","/explorer/recent-blocks"):"explorer_recent_transactions"===a?window.history.pushState({},
"","/explorer/recent-transactions"):"explorer_mempool"===a&&window.history.pushState({},"","/explorer/mempool"),z()):"explorer_recent_blocks"===a?window.history.replaceState(null,document.title,"/explorer/recent-blocks"):"explorer_recent_transactions"===a?window.history.replaceState(null,document.title,"/explorer/recent-transactions"):"explorer_mempool"===a&&window.history.replaceState(null,document.title,"/explorer/mempool")};open_nav_small=function(){var a=document.getElementById("nav_small");-1==
a.className.indexOf("w3-show")?a.className+=" w3-show":a.className=a.className.replace(" w3-show","")};close_nav_small=function(){var a=document.getElementById("nav_small");-1!=a.className.indexOf("w3-show")&&(a.className=a.className.replace(" w3-show",""))};toggle_tx_view=function(){var a=document.getElementById("tx_view_toggle"),b=document.getElementById("tx_pretty"),c=document.getElementById("tx_json"),d=document.getElementById("tx_raw");-1!=b.className.indexOf("w3-show")?(c.className+=" w3-show",
b.className=b.className.replace(" w3-show",""),d.className=d.className.replace(" w3-show",""),a.className=a.className.replace("fa-file-code","fa-file"),a.title="TX Raw View"):-1!=c.className.indexOf("w3-show")?(d.className+=" w3-show",b.className=b.className.replace(" w3-show",""),c.className=c.className.replace(" w3-show",""),a.className=a.className.replace("fa-file","fa-eye"),a.title="TX Pretty View"):-1!=d.className.indexOf("w3-show")&&(b.className+=" w3-show",d.className=d.className.replace(" w3-show",
""),c.className=c.className.replace(" w3-show",""),a.className=a.className.replace("fa-eye","fa-file-code"),a.title="TX Detail View")};get_supply=function(){var a=window.location.pathname;("/"===a||a.startsWith("/info")||a.startsWith("/stats")||a.startsWith("/explorer"))&&t.postMessage({endPoint:"https://kva.keva.one/",call:"get_supply",type:"GET"})};get_block=function(a){var b={endPoint:"https://kva.keva.one/"};64===a.length?(b.call="get_block",b.call_data=a):(b.call="get_block",b.call_data=parseInt(a,
10));b.type="GET";t.postMessage(b)};get_transaction=function(a){var b={endPoint:"https://kva.keva.one/",call:"get_transaction"};b.call_data=a;b.type="GET";t.postMessage(b)};get_address=function(a){var b={endPoint:"https://kva.keva.one/",call:"get_address"};b.call_data=a;b.type="GET";t.postMessage(b)};get_namespace=function(a){var b={endPoint:"https://kva.keva.one/",call:"get_namespace"};b.call_data=a;b.type="GET";t.postMessage(b)};get_shortcode=function(a){var b={endPoint:"https://kva.keva.one/",
call:"get_shortcode"};b.call_data=parseInt(a,10);b.type="GET";t.postMessage(b)};get_nft_auctions=function(a){t.postMessage({endPoint:"https://kva.keva.one/",call:"get_nft_auctions",type:"GET"})};get_info=function(a){t.postMessage({endPoint:"https://raw.githubusercontent.com/kevacoin-project/kevacoin/master/",call:"README.md",type:"GET"})};get_recent_blocks=function(a){t.postMessage({endPoint:"https://kva.keva.one/",call:"get_recent_blocks",call_data:"?page_size=150",type:"GET"})};get_recent_transactions=
function(a){t.postMessage({endPoint:"https://kva.keva.one/",call:"get_recent_transactions",call_data:"?page_size=150",type:"GET"})};get_raw_mempool=function(a){t.postMessage({endPoint:"https://kva.keva.one/",call:"rpc_get_raw_mempool",type:"GET"})};get_mempool_entry=function(a){var b={endPoint:"https://kva.keva.one/",call:"rpc_get_mempool_entry"};b.call_data=a;b.type="GET";t.postMessage(b)};get_search=function(a){var b={endPoint:"https://kva.keva.one/",call:"get_search"};b.call_data=a;b.type="GET";
t.postMessage(b)};get_stats_tops=function(a){var b={endPoint:"https://kva.keva.one/",call:"get_stats_tops"};b.call_data=a;b.type="GET";t.postMessage(b)};ui_clear_recent_blocks=function(){isection_toggle("recent_blocks_loading",["recent_blocks_loading","recent_blocks_main"]);var a=gei("uibexp_rb");clear_table(a)};ui_update_recent_blocks=function(a){var b=gei("uibexp_rb");for(result in a[1].page_results){var c=ce("span");c.innerText=a[1].page_results[result][0];c.title="View block";csl(c,"block",c.innerText);
var d=ce("span");d.innerText=a[1].page_results[result][1];d.title="View block";csl(d,"block",d.innerText);add_row(b,[c,a[1].page_results[result][4],a[1].page_results[result][3],d])}isection_toggle("recent_blocks_main",["recent_blocks_loading","recent_blocks_main"])};ui_clear_recent_transactions=function(){isection_toggle("recent_transactions_loading",["recent_transactions_loading","recent_transactions_main"]);var a=gei("uibexp_rt");clear_table(a)};ui_update_recent_transactions=function(a){var b=gei("uibexp_rt");
for(result in a[1].page_results){var c=ce("span"),d=a[1].page_results[result];c.innerText=d[1];c.title="View transaction";csl(c,"transaction",c.innerText);var e=ce("span");e.innerText=d[0];e.title="View block";csl(e,"block",e.innerText);add_row(b,[e,d[5],d[3],d[4],c])}isection_toggle("recent_transactions_main",["recent_transactions_loading","recent_transactions_main"])};ui_clear_mempool=function(){isection_toggle("mempool_loading",["mempool_loading","mempool_main"]);var a=gei("uibexp_rm");clear_table(a)};
ui_update_mempool=function(a){var b=gei("uibexp_rm");if("object"==typeof a)for(result in a){var c=ce("span");c.innerText=a[result];c.title="View mempool transaction";csl(c,"mempool",c.innerText);add_row(b,[c])}else c=ce("span"),c.innerText=a,c.title="View mempool transaction",csl(c,"mempool",c.innerText),add_row(b,[c]);isection_toggle("mempool_main",["mempool_loading","mempool_main"])};ui_update_supply=function(a){var b=gei("uibs_height"),c=gei("uibs_supply"),d=gei("uibs_fees"),e=gei("uibs_genreward"),
f=gei("uibs_diff"),h=gei("uibs_nethash");b.innerText=a.block_height;c.innerText=a.coin_supply;d.innerText=a.fees_payed;e.innerText=a.genisis_reward;f.innerText=rounder(a.difficulty,"3");h.innerText=rounder(a.networkhashps,"3")};ui_clear_search=function(){for(var a=gei("search_results");a.firstChild;)a.removeChild(a.firstChild)};ui_update_search=function(a){var b=gei("search_results"),c=gei("search_result_count"),d=0;if("address"in a){var e=gei("result_address_spacer").cloneNode(!0);e.removeAttribute("id");
var f=qsgei(e,"#result_address_name"),h=qsgei(e,"#result_address_balance"),g=a.address[0];f.innerText=g;f.title="View address";csl(f,"address",g);h.innerText=a.address[1];b.appendChild(e);d+=1}"block"in a&&(e=gei("result_block_spacer").cloneNode(!0),e.removeAttribute("id"),g=qsgei(e,"#result_block_time"),h=qsgei(e,"#result_block_height"),f=qsgei(e,"#result_block_hash"),g.innerText=a.block[1],g=a.block[0],h.innerText=g,h.title="View block",csl(h,"block",g),h=a.block[2],f.innerText=h,f.title="View block",
csl(f,"block",h),b.appendChild(e),d+=1);if("tx"in a){e=gei("result_transaction_spacer").cloneNode(!0);e.removeAttribute("id");h=qsgei(e,"#result_transaction_time");g=qsgei(e,"#result_transaction_block");f=qsgei(e,"#result_transaction_hash");var m=a.tx[0];h.innerText=a.tx[1];g.innerText=m;g.title="View block";csl(g,"block",m);h=a.tx[2];f.innerText=h;f.title="View transaction";csl(f,"transaction",h);b.appendChild(e);d+=1}"namespace"in a&&(e=gei("result_namespace_spacer").cloneNode(!0),e.removeAttribute("id"),
f=qsgei(e,"#result_namespace_nsid"),h=qsgei(e,"#result_namespace_shortcode"),f.innerText=a.namespace[0],h.innerText=a.namespace[1]+a.namespace[2],b.appendChild(e),d+=1);"shortcode"in a&&(e=gei("result_namespace_spacer").cloneNode(!0),e.removeAttribute("id"),f=qsgei(e,"#result_namespace_nsid"),h=qsgei(e,"#result_namespace_shortcode"),g=a.shortcode[0],f.innerText=g,f.title="View namespace",csl(f,"shortcode",g),g=a.shortcode[1],h.innerText=g+" "+a.shortcode[2],h.title="View namespace",csl(h,"shortcode",
g),f.innerText=a.shortcode[0],h.innerText=a.shortcode[1]+a.shortcode[2],b.appendChild(e),d+=1);if("content"in a){e=gei("result_namespace_content_section");f=gei("result_namespace_content_spacer").cloneNode(!0);f.removeAttribute("id");h=qsgei(f,"#result_namespace_content_list");for(result in a.content){g=e.cloneNode(!0);g.removeAttribute("id");var k=qsgei(g,"#result_namespace_content_time"),l=qsgei(g,"#result_namespace_content_nsid");m=qsgei(g,"#result_namespace_content_shortcode");var n=qsgei(g,"#result_namespace_content_key"),
p=qsgei(g,"#result_namespace_content_value");k.innerText=a.content[result][0];k=a.content[result][2];l.innerText=k;l.title="View namespace";csl(l,"shortcode",k);l=a.content[result][3];m.innerText=l+" "+a.content[result][4];m.title="View namespace";csl(m,"shortcode",l);n.innerText=a.content[result][5];p.innerText=a.content[result][6];h.appendChild(g);d+=1}b.appendChild(f)}c.innerText=d;isection_toggle("search_results_info",["search_loading","search_results_info"])};ui_clear_block=function(){isection_toggle("block_loading",
["block_loading","block_main"]);var a=gei("uibexp_bheight"),b=gei("uibexp_bhash"),c=gei("uibexp_bversion"),d=gei("uibexp_bphash"),e=gei("uibexp_bmerkle"),f=gei("uibexp_btime"),h=gei("uibexp_bbits"),g=gei("uibexp_bnonce"),m=gei("uibexp_bextra"),k=gei("uibexp_bt"),l=gei("uibexp_betxc");clear_table(k);a.innerText=null;b.innerText=null;c.innerText=null;d.innerText=null;d.onclick=null;e.innerText=null;f.innerText=null;h.innerText=null;g.innerText=null;m.innerText=null;l.innerText=null};ui_update_block=
function(a){var b=gei("uibexp_bheight"),c=gei("uibexp_bhash"),d=gei("uibexp_bversion"),e=gei("uibexp_bphash"),f=gei("uibexp_bmerkle"),h=gei("uibexp_btime"),g=gei("uibexp_bbits"),m=gei("uibexp_bnonce"),k=gei("uibexp_bextra"),l=gei("uibexp_bt"),n=gei("uibexp_betxc");b.innerText=a.height;c.innerText=a.blockhash;d.innerText=a.header.version;e.innerText=a.header.prev_hash;e.title="View block";csl(e,"block",a.header.prev_hash);f.innerText=a.header.merkle;h.innerText=a.header.time.slice(0,-12);g.innerText=
a.header.bits;m.innerText=a.header.nonce;k.innerText=a.header.extra;n.innerText=a.transactions.length;for(result in a.transactions){b=a.transactions[result];c=0;for(res in b.vout)c+=b.vout[res].value;d=ce("span");d.innerText=b.txid;d.title="View transaction";csl(d,"transaction",b.txid);add_row(l,[c,b.vin.length+" / "+b.vout.length,d])}isection_toggle("block_main",["block_loading","block_main"])};ui_clear_transaction=function(){isection_toggle("transaction_loading",["transaction_loading","transaction_main"]);
var a=gei("uibexp_ti"),b=gei("uibexp_th"),c=gei("uibexp_pth"),d=gei("uibexp_tl"),e=gei("uibexp_tv"),f=gei("uibexp_tfl"),h=gei("uibexp_ts"),g=gei("uibexp_tvs"),m=gei("uibexp_pts"),k=gei("uibexp_tvs"),l=gei("uibexp_tbh"),n=gei("uibexp_tin"),p=gei("uibexp_tout"),u=gei("uibexp_twit"),q=gei("uibexp_ptbh"),v=gei("uibexp_ptin"),r=gei("uibexp_ptout"),C=gei("uibexp_txinputs"),y=gei("uibexp_txoutputs"),D=gei("uibexp_ptxinputs"),E=gei("uibexp_ptxoutputs"),F=gei("uibexp_txwit"),G=gei("tx_raw_data");clear_table(v);
clear_table(r);clear_table(n);clear_table(p);clear_table(u);a.innerText=null;uibexp_time.innerText=null;b.innerText=null;c.innerText=null;d.innerText=null;e.innerText=null;f.innerText=null;h.innerText=null;g.innerText=null;l.innerText=null;l.style.cssText="";l.onclick=null;m.innerText=null;k.innerText=null;q.innerText=null;q.style.cssText="";q.onclick=null;D.innerText=null;E.innerText=null;C.innerText=null;y.innerText=null;F.innerText=null;G.innerText=null};ui_update_transaction=function(a){var b=
gei("uibexp_ti"),c=gei("uibexp_time"),d=gei("uibexp_th"),e=gei("uibexp_pth"),f=gei("uibexp_tl"),h=gei("uibexp_tv"),g=gei("uibexp_tfl"),m=gei("uibexp_ts"),k=gei("uibexp_tvs"),l=gei("uibexp_tbh"),n=gei("uibexp_pts"),p=gei("uibexp_ptvs"),u=gei("uibexp_ptbh"),q=gei("uibexp_tin"),v=gei("uibexp_ptin"),r=gei("uibexp_tout"),C=gei("uibexp_ptout"),y=gei("uibexp_twit"),D=gei("uibexp_ptxinputs"),E=gei("uibexp_ptxoutputs"),F=gei("uibexp_txinputs"),G=gei("uibexp_txoutputs"),J=gei("uibexp_txwit"),K=gei("tx_raw_data");
b.innerText=a.txid;c.innerText=a.time.slice(0,-12);d.innerText=a.hash;e.innerText=a.hash;f.innerText=a.locktime;h.innerText=a.version;g.innerText=a.flag;m.innerText=a.size;k.innerText=a.vsize;l.innerText=a.block;n.innerText=a.size;p.innerText=a.vsize;u.innerText=a.block;K.innerText=a.hex;l.title="View block";csl(l,"block",l.innerText);u.title="View block";csl(u,"block",u.innerText);F.innerText=a.vin.length;D.innerText=a.vin.length;b=0;J.innerText=b;for(result in a.vin)if(c=a.vin[result],"coinbase"in
c?add_row(q,[c.txid,c.vout,c.coinbase,c.sequence]):(d=ce("span"),e=c.txid,f=ce("span"),h=c.address,f.innerText=h,f.title="View address",csl(f,"address",h),c.address=f,d.innerText=c.txid,d.title="View transaction",csl(d,"transaction",e),c.txid=d,add_row(q,[c.txid.cloneNode(!0),c.vout,c.scriptSig.asm,c.sequence])),add_row(v,[c.value,c.address,c.txid]),"txinwitness"in c){d="";for(w in c.txinwitness)d=d+" "+c.txinwitness[w];b+=1;J.innerText=b;add_row(y,[d])}G.innerText=a.vout.length;E.innerText=a.vout.length;
for(result in a.vout)q=a.vout[result],v=ce("span"),""!==q.address&&"addresses"in q.scriptPubKey&&(y=q.scriptPubKey.addresses[0],v.innerText=y,v.title="View address",csl(v,"address",y),q.address=v),add_row(r,[q.value,q.scriptPubKey.asm]),add_row(C,[q.value,v]);isection_toggle("transaction_main",["transaction_loading","transaction_main"])};ui_clear_address=function(){isection_toggle("address_loading",["address_loading","address_main"]);var a=gei("uibexp_ar"),b=gei("uibexp_as"),c=gei("uibexp_ab"),d=
gei("uibexp_att"),e=gei("uibexp_art"),f=gei("uibexp_ai");clear_table(e);f.innerText=null;a.innerText=null;b.innerText=null;c.innerText=null;d.innerText=null};ui_update_address=function(a){var b=gei("uibexp_ar"),c=gei("uibexp_as"),d=gei("uibexp_ab"),e=gei("uibexp_att"),f=gei("uibexp_art");gei("uibexp_ai").innerText=a[0].address;b.innerText=a[0].received;c.innerText=a[0].sent;d.innerText=a[0].balance;e.innerText=a[1].total_results;for(result in a[1].page_results)b=a[1].page_results[result],c=ce("span"),
c.innerText=b.txid.split(":")[0],c.title="View transaction",csl(c,"transaction",c.innerText),d=ce("span"),d.innerText=b.block,d.title="View block",csl(d,"block",d.innerText),e=ce("i"),"Receive"===b.direction?e.className="fa fa-hand-holding-usd fa-flip-horizontal w3-icon-theme-receive":"Send"===b.direction&&(e.className="fa fa-hand-holding-usd fa-flip-vertical w3-icon-theme-send"),add_row(f,[e,b.time.slice(0,-12),d,b.value,c]);isection_toggle("address_main",["address_loading","address_main"])};ui_clear_mempool_entry=
function(){isection_toggle("mempool_entry_loading",["mempool_entry_loading","mempool_entry_main"]);var a=gei("uibexp_mat"),b=gei("uibexp_mdt");clear_table(a);clear_table(b);a=gei("uibexp_mti");b=gei("uibexp_mac");var c=gei("uibexp_maf"),d=gei("uibexp_mas"),e=gei("uibexp_md"),f=gei("uibexp_mdc"),h=gei("uibexp_mdf"),g=gei("uibexp_mds"),m=gei("uibexp_mfee"),k=gei("uibexp_mh"),l=gei("uibexp_mf"),n=gei("uibexp_ms"),p=gei("uibexp_mtime"),u=gei("uibexp_mwtx");a.innerText=null;b.innerText=null;c.innerText=
null;d.innerText=null;e.innerText=null;f.innerText=null;h.innerText=null;g.innerText=null;m.innerText=null;k.innerText=null;l.innerText=null;n.innerText=null;p.innerText=null;u.innerText=null};ui_update_mempool_entry=function(a){gei("uibexp_mat");gei("uibexp_mdt");var b=gei("uibexp_mti"),c=gei("uibexp_mac"),d=gei("uibexp_maf"),e=gei("uibexp_mas"),f=gei("uibexp_md"),h=gei("uibexp_mdc"),g=gei("uibexp_mdf"),m=gei("uibexp_mds"),k=gei("uibexp_mfee"),l=gei("uibexp_mh"),n=gei("uibexp_mf"),p=gei("uibexp_ms"),
u=gei("uibexp_mtime"),q=gei("uibexp_mwtx"),v=window.location.pathname.split("/");b.innerText=v[v.length-1];c.innerText=a.ancestorcount;d.innerText=a.ancestorfees;e.innerText=a.ancestorsize;f.innerText=a.depends;h.innerText=a.descendantcount;g.innerText=a.descendantfees;m.innerText=a.descendantsize;k.innerText=a.fee;l.innerText=a.height;n.innerText=a.modifiedfee;p.innerText=a.size;u.innerText=a.time;q.innerText=a.wtxid;isection_toggle("mempool_entry_main",["mempool_entry_loading","mempool_entry_main"])};
ui_clear_info=function(){isection_toggle("explorer_info_loading",["explorer_info_loading","explorer_info_main"]);gei("bexp_inftext").innerText=null};ui_update_info=function(a){gei("bexp_inftext").innerText=a;isection_toggle("explorer_info_main",["explorer_info_loading","explorer_info_main"])};ui_clear_namespace_view=function(){isection_toggle("namespace_loading",["namespace_loading","ns_pro","ns_view"]);for(var a=gei("ns_view"),b=gei("nspro_name"),c=gei("nspro_sc"),d=gei("nspro_nsid"),e=gei("nspro_keys"),
f=gei("nspro_owner");a.firstChild;)a.removeChild(a.firstChild);d.innerText=null;d.onclick=null;c.innerText=null;c.onclick=null;e.innerText=null;f.innerText=null;f.onclick=null;b.innerText=null};ui_update_namespace_view=function(a){function b(r){if("ns_create"===r)return["ns_create_section",gei("ns_create_section")];if("delete_key"===r)return["ns_delete_key_section",gei("ns_delete_key_section")];if("name_update"===r)return["ns_rename_section",gei("ns_rename_section")];if("nft_auction"===r)return["ns_auction_section",
gei("ns_auction_section")];if(""===r)return["ns_regular_section",gei("ns_regular_section")];if("reply"===r)return["ns_reply_section",gei("ns_reply_section")];if("repost"===r)return["ns_repost_section",gei("ns_repost_section")];if("nft_bid"===r)return["ns_bid_section",gei("ns_bid_section")];if("reward"===r)return["ns_reward_section",gei("ns_reward_section")]}if("Invaild Shortcode"===a)gei("error_msg").innerText=a,section_toggle("error_section",!1);else{var c=gei("ns_view"),d=gei("nspro_name"),e=gei("nspro_sc"),
f=gei("nspro_nsid"),h=gei("nspro_keys"),g=gei("nspro_owner"),m=ce("div");m.style.marginTop="-16px";c.appendChild(m);a.data.reverse();f.innerText=a.dnsid;f.title="View namespace";csl(f,"shortcode",f.innerText);e.innerText=a.root_shortcode;e.title="View namespace";csl(e,"shortcode",e.innerText);h.innerText=a.data.length;g.innerText=a.data[0].addr;g.title="View address";csl(g,"address",g.innerText);d.innerHTML=a.name;for(result in a.data){d=function(r){if("reply"===r)return["ns_regular_reply",gei("ns_regular_reply")];
if("repost"===r)return["ns_repost_reply",gei("ns_repost_reply")];if("nft_bid"===r)return["ns_bid_reply",gei("ns_bid_reply")];if("reward"===r)return["ns_reward_reply",gei("ns_reward_reply")]};var k=b(a.data[result].dtype);e=k[1].cloneNode(!0);e.removeAttribute("id");var l=qsgei(e,"#"+k[0]+"_key"),n=qsgei(e,"#"+k[0]+"_time"),p=qsgei(e,"#"+k[0]+"_value");g=qsgei(e,"#"+k[0]+"_block");m=qsgei(e,"#"+k[0]+"_blocki");h=qsgei(e,"#"+k[0]+"_txid");f=qsgei(e,"#"+k[0]+"_replies");l.innerHTML=a.data[result].dkey;
n.innerText=a.data[result].time.slice(0,-12);if("html"===a.data[result].dkey)p.innerText="",n=ce("iframe"),n.srcdoc=a.data[result].dvalue,n.className="w3-theme-iframe",p.appendChild(n);else if("ns_rename_section"===k[0])n=a.data[result].dvalue,n.includes("displayName")?p.innerHTML=JSON.parse(n).displayName:p.innerHTML=n;else if("ns_auction_section"===k[0]){n=JSON.parse(a.data[result].dvalue);var u=qsgei(e,"#"+k[0]+"_value_name"),q=qsgei(e,"#"+k[0]+"_value_price"),v=qsgei(e,"#"+k[0]+"_value_addr");
u.innerHTML=n.displayName;q.innerHTML=n.price;v.innerHTML=n.addr;p.innerHTML=n.desc}else p.innerHTML=a.data[result].dvalue;"ns_reply_section"===k[0]||"ns_reward_section"===k[0]||"ns_repost_section"===k[0]||"ns_bid_section"===k[0]?(p=a.data[result].target[0],qsgei(e,"#"+k[0]+"_target_value").innerHTML=a.data[result].target[2],l.innerHTML=p+" - "+a.data[result].target[1],l.title="View namespace",csl(l,"shortcode",p)):"ns_bid_section"===k[0]&&(p=a.data[result].target[0],qsgei(e,"#"+k[0]+"_target_value").innerHTML=
a.data[result].target[1],l.innerHTML=p+" - "+a.data[result].target[1],l.title="View namespace",csl(l,"shortcode",p));k=a.data[result].block;csl(g,"block",k);g.innerText=k;g.title="View block";m.title="View block";csl(m,"block",k,2);g=a.data[result].txid;h.title="View transaction";csl(h,"transaction",g,2);1<=a.data[result].replies.length&&(f.className+=" w3-show");for(rresult in a.data[result].replies)m=d(a.data[result].replies[rresult].dtype),h=m[1].cloneNode(!0),h.removeAttribute("id"),g=qsgei(h,
"#"+m[0]+"_shortcode"),l=qsgei(h,"#"+m[0]+"_time"),p=qsgei(h,"#"+m[0]+"_value"),k=qsgei(h,"#"+m[0]+"_block"),m=qsgei(h,"#"+m[0]+"_txid"),l.innerText=a.data[result].replies[rresult].time.slice(0,-12),p.innerText=a.data[result].replies[rresult].dvalue,l=a.data[result].replies[rresult].block,k.title="View block",csl(k,"block",l,2),k=a.data[result].replies[rresult].root_shortcode,g.innerText=k+" - "+a.data[result].replies[rresult].name,g.title="View namespace",csl(g,"shortcode",k),g=a.data[result].replies[rresult].txid,
m.title="View transaction",csl(m,"transaction",g,2),f.appendChild(h);c.appendChild(e)}isection_toggle("ns_pro",["namespace_loading","ns_pro"]);isection_toggle("ns_view",["ns_view"])}};ui_clear_market_view=function(){isection_toggle("market_loading",["market_loading","market_main"]);for(var a=gei("xbmarket"),b=gei("mnspro_sc");a.firstChild;)a.removeChild(a.firstChild);b.innerText=null};imarket_section_toggle=function(a,b){function c(h){for(var g=0;g<h.length;g++)-1==h[g].className.indexOf("w3-hide")&&
(h[g].className+=" w3-hide")}function d(h){for(var g=0;g<h.length;g++)-1!=h[g].className.indexOf("w3-hide")&&(h[g].className=h[g].className.replace(" w3-hide",""))}b=void 0===b?!0:b;var e=document.getElementsByClassName("kmedia"),f=document.getElementsByClassName("kcontent");"all"===a?(d(e),d(f),A="all"):"media"===a?(d(e),c(f),A="media"):"content"===a&&(c(e),d(f),A="content");!0===b&&window.history.replaceState(null,document.title,"/market")};ui_update_market_view=function(a){var b=gei("xbmarket"),
c=gei("mnsv_c"),d=gei("mnspro_sc"),e=ce("div");e.style.marginTop="-16px";b.appendChild(e);d.innerText=a.len;for(result in a.data){d=c.cloneNode(!0);d.removeAttribute("id");var f=qsgei(d,"#mnsv_key"),h=qsgei(d,"#mnsv_keyp");e=qsgei(d,"#mnsv_keyrc");var g=qsgei(d,"#mnsv_keyrh"),m=qsgei(d,"#mnsv_time"),k=qsgei(d,"#mnsv_value"),l=qsgei(d,"#mnsv_block"),n=qsgei(d,"#mnsv_blocki"),p=qsgei(d,"#mnsv_txid"),u=qsgei(d,"#mnsv_addr"),q=qsgei(d,"#mpreview");"media"in a.data[result]?(q.src=a.data[result].media,
d.className+=" kmedia"):(-1==q.className.indexOf("w3-hide")&&(q.className+=" w3-hide"),d.className+=" kcontent");h.innerText=a.data[result].price+" KVA";m.innerText=a.data[result].time.slice(0,-12);k.innerText=a.data[result].desc;h=a.data[result].root_shortcode;f.innerText=h+" - "+a.data[result].displayName;f.title="View namespace";csl(f,"shortcode",h);f=a.data[result].block;csl(l,"block",f);l.innerText=f;l.title="View block";n.title="View block";csl(n,"block",f,2);l=a.data[result].txid;p.title="View transaction";
csl(p,"transaction",l,2);u.innerText=a.data[result].owner_addr;e.innerText=a.data[result].bids[0];_high_bid=a.data[result].bids[1];g.innerText=_high_bid;b.appendChild(d)}imarket_section_toggle(A,!1);isection_toggle("market_main",["market_loading","market_main"])};ui_clear_stats_tops=function(){var a=gei("stats_tops_table");clear_table(a);try{"undefined"!==typeof B&&B.destroy()}catch(b){console.log(b.message)}};ui_update_stats_tops=function(a){var b=gei("stats_tops_table"),c=[],d=[],e=[],f=100;for(result in a)c.push(a[result][1]),
e.push("rgb("+random_int(155,255)+", "+random_int(55,155)+", "+random_int(90,175)+")"),5===a[result].length?(f-=a[result][4],d.push(a[result][4]),add_row(b,[a[result][0],a[result][1],a[result][2],a[result][4]])):(d.push(a[result][2]),add_row(b,[a[result][0],a[result][1],a[result][2]]));c.push("Non-Top 100");e.push("rgb("+random_int(155,255)+", "+random_int(55,155)+", "+random_int(90,175)+")");d.push(f);build_chart(c,d,e)};section_link=function(a,b){"block"===a?(ui_clear_block(),window.history.pushState({},
"","/explorer/block/"+b),section_toggle("explorer_browser",!0)):"transaction"===a?(ui_clear_transaction(),window.history.pushState({},"","/explorer/transaction/"+b),section_toggle("explorer_browser",!0)):"address"===a?(ui_clear_address(),window.history.pushState({},"","/explorer/address/"+b),section_toggle("address_section",!0)):"mempool"===a?(ui_clear_mempool_entry(),window.history.pushState({},"","/explorer/mempool/entry/"+b),section_toggle("explorer_browser",!0)):"shortcode"===a?(ui_clear_namespace_view(),
window.history.pushState({},"","/"+b),section_toggle("namespace_section",!0)):"market"==a?(ui_clear_market_view(),window.history.pushState({},"","/market"),section_toggle("market_section",!0)):"about"==a?(window.history.pushState({},"","/about"),section_toggle("about_section",!0)):"search"==a?(ui_clear_search(),window.history.pushState({},"","/search"),section_toggle("search_section",!0)):"home"==a&&(window.history.pushState({},"","/"),section_toggle("main_section",!0))};search=function(a){var b=
gei("search"+a);a=b.value;b.value=null;isection_toggle("search_loading",["search_loading","search_results_info"]);ui_clear_search();section_toggle("search_section",!1);a&&(gei("search_q").innerText=a,get_search(a))};chart_section_toggle=function(a){ui_clear_stats_tops();var b=gei("stthl"),c=gei("stthxp");"tops_balance"===a?-1!=c.className.indexOf("w3-hide")&&(c.className=c.className.replace(" w3-hide","")):-1==c.className.indexOf("w3-hide")&&(c.className+=" w3-hide");"tops_balance"===a?(b.innerText=
"Balance",-1!=c.className.indexOf("w3-hide")&&c.className.replace(" w3-hide",""),get_stats_tops("total")):"tops_received"===a?(b.innerText="Received",get_stats_tops("received")):"tops_sent"===a?(b.innerText="Sent",get_stats_tops("sent")):"tops_receivers"===a?(b.innerText="Received TX Count",get_stats_tops("rcount")):"tops_senders"===a&&(b.innerText="Sent TX Count",get_stats_tops("scount"))};build_chart=function(a,b,c){a={type:"doughnut",data:{labels:a,datasets:[{backgroundColor:c,borderColor:c,data:b}]},
options:{plugins:{legend:{display:!1,labels:{color:"rgb(255, 99, 132)"},position:"bottom"}}}};B=new Chart(gei("stats_tops_chart"),a)};csl=function(a,b,c,d){d=void 0===d?1:d;1===d?a.className="w3-theme-hl1":0===d?a.className="w3-theme-hl2":2===d&&(a.className+=" w3-theme-hl2");a.onclick=function(){section_link(b,c)}};qsgei=function(a,b){var c=a.querySelector(b);c.removeAttribute("id");return c};gei=function(a){return document.getElementById(a)};ce=function(a){return document.createElement(a)};add_row=
function(a,b){var c=ce("tr");c.className="w3-theme-text-dark w3-hover-theme-tr";for(result in b){var d=c,e=b[result],f=ce("td");"object"===typeof e?"SPAN"===e.nodeName?f.appendChild(e):"I"===e.nodeName&&f.appendChild(e):f.innerText=e;d.appendChild(f)}a.appendChild(c)};clear_table=function(a){for(var b=a.rows.length,c=1;c<b;c++)a.deleteRow(1)};rounder=function(a,b){return+(Math.round(a+"e+".concat(b))+"e-".concat(b))};random_int=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};return new function(){z();
t.onmessage=function(a){if("get_supply"===a.data[0].call)return ui_update_supply(a.data[1]);if("get_block"===a.data[0].call)return ui_update_block(a.data[1]);if("get_recent_blocks"===a.data[0].call)return ui_update_recent_blocks(a.data[1]);if("get_recent_transactions"===a.data[0].call)return ui_update_recent_transactions(a.data[1]);if("rpc_get_raw_mempool"===a.data[0].call)return ui_update_mempool(a.data[1]);if("get_transaction"===a.data[0].call)return ui_update_transaction(a.data[1]);if("get_address"===
a.data[0].call)return ui_update_address(a.data[1]);if("get_search"===a.data[0].call)return ui_update_search(a.data[1]);if("rpc_get_mempool_entry"===a.data[0].call)return ui_update_mempool_entry(a.data[1]);if("get_shortcode"===a.data[0].call||"get_namespace"===a.data[0].call)return ui_update_namespace_view(a.data[1]);if("get_nft_auctions"===a.data[0].call)return ui_update_market_view(a.data[1]);if("get_stats_tops"===a.data[0].call)return ui_update_stats_tops(a.data[1]);if("README.md"===a.data[0].call)return ui_update_info(a.data[1])};
window.onpopstate=function(){z()}}};
